---
export interface Props {
  id: string;
  title: string;
  description: string;
  link: string;
  github?: string;
}

const { id, title, description, link, github } = Astro.props;
const githubUrl = github || link;
const isExternalLink = link.startsWith('http');
---

<article 
  data-project-card
  class="group relative bg-light-surface dark:bg-dark-surface rounded-2xl border border-light-border dark:border-dark-border overflow-hidden transition-all duration-300 hover:shadow-xl hover:shadow-primary-500/10 dark:hover:shadow-primary-400/10 hover:-translate-y-2 hover:border-primary-300 dark:hover:border-primary-600"
>
  
  <div class="h-2 bg-gradient-to-r from-primary-500 via-secondary-500 to-tertiary-500 group-hover:from-primary-400 group-hover:via-secondary-400 group-hover:to-tertiary-400 transition-all duration-300"></div>
  
  <div class="p-6 space-y-4">
    
    <div class="flex items-start space-x-3">
      <div class="w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-600 dark:text-primary-400 group-hover:bg-primary-200 dark:group-hover:bg-primary-800 transition-colors duration-300 flex-shrink-0">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
        </svg>
      </div>
      <div class="min-w-0 flex-1">
        <a 
          href={`/project/${id}`}
          class="block focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-light-surface dark:focus:ring-offset-dark-surface rounded-lg"
        >
          <h2 
            class="text-lg font-semibold text-light-text dark:text-dark-text group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-300 line-clamp-2"
          >
            {title}
          </h2>
        </a>
      </div>
    </div>
    
    <p class="text-sm text-light-muted dark:text-dark-muted leading-relaxed line-clamp-3 group-hover:text-light-text dark:group-hover:text-dark-text transition-colors duration-300">
      {description}
    </p>
    
    <div class="w-full h-px bg-light-border dark:bg-dark-border group-hover:bg-primary-200 dark:group-hover:bg-primary-800 transition-colors duration-300"></div>
    
    <div class="flex items-center justify-between space-x-3">
      
      
      <a
        href={`/project/${id}`}
        class="flex-1 flex items-center justify-center space-x-2 py-2.5 px-4 bg-primary-500 hover:bg-primary-600 active:bg-primary-700 text-white text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-light-surface dark:focus:ring-offset-dark-surface group/btn"
        aria-label={`Ver detalles de ${title}`}
      >
        <svg class="w-4 h-4 group-hover/btn:scale-110 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span>Ver Detalles</span>
      </a>
      
      
      <a
        href={link}
        target={isExternalLink ? "_blank" : undefined}
        rel={isExternalLink ? "noopener noreferrer" : undefined}
        class="flex items-center justify-center w-11 h-11 bg-secondary-500 hover:bg-secondary-600 text-white rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2 focus:ring-offset-light-surface dark:focus:ring-offset-dark-surface group/live"
        aria-label={`Ver proyecto live de ${title}`}
      >
        <svg class="w-5 h-5 group-hover/live:scale-110 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
        </svg>
      </a>
      
      
      <a
        href={githubUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-center w-11 h-11 bg-light-bg dark:bg-dark-bg hover:bg-neutral-100 dark:hover:bg-neutral-800 border border-light-border dark:border-dark-border hover:border-neutral-300 dark:hover:border-neutral-600 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2 focus:ring-offset-light-surface dark:focus:ring-offset-dark-surface group/github"
        aria-label={`Ver cÃ³digo en GitHub de ${title}`}
      >
        <svg class="w-5 h-5 group-hover/github:scale-110 transition-transform duration-200" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
        </svg>
      </a>
      
    </div>
    
  </div>
  
  
  <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-in-out pointer-events-none"></div>
  
</article>